(this.webpackJsonpminc=this.webpackJsonpminc||[]).push([[0],{18:function(e,t,a){},36:function(e,t,a){e.exports=a(50)},46:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=(a(41),a(32)),m=a(15),u=a(6),i=a(52),s=a(29),E=a(56),f=function(e){var t=void 0==JSON.parse(localStorage.getItem("charData"))?{disabled:!0}:{disabled:!1};return r.a.createElement("div",{className:"menu-root"},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,null,r.a.createElement("h3",null,"Select an option"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:3},r.a.createElement(E.a,Object.assign({variant:"primary",block:!0,className:"my-1"},t,{onClick:function(){return e.selection(1)}}),"Play"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:3},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(2)}},"Create"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:3},r.a.createElement(E.a,Object.assign({variant:"primary",block:!0,className:"my-1"},t,{onClick:function(){return e.selection(3)}}),"Delete"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:3},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(4)}},"About"))))},d=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("charData"))),a=Object(u.a)(t,2),c=a[0],l=a[1];return null==c?r.a.createElement("div",{className:"menu-root"},r.a.createElement("h5",null,"Deleted"),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4,className:"mt-2"},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(0)}},"Back")))):r.a.createElement("div",{className:"menu-root"},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:10},Object.keys(c).map((function(e,t){return r.a.createElement(i.a,{key:t},r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,e,":\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,c[e])))})))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return localStorage.removeItem("charData"),void l(null)}},"Delete"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4,className:"mt-2"},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(0)}},"Back"))))},v=function(e){return r.a.createElement("div",{className:"menu-root"},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4,className:"mt-1"},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(0)}},"Back"))))},b=a(55),p=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({username:"",level:"",xp:"",gold:"",currentHp:10,Hp:10,Attack:1,Defence:1}),m=Object(u.a)(o,1)[0];return r.a.createElement("div",{className:"menu-root"},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{className:"mb-5"},r.a.createElement("h3",null,"Create"))),r.a.createElement(b.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:3,className:"align-self-center"},r.a.createElement(b.a.Label,{htmlFor:"username-input"},"Username")),r.a.createElement(s.a,{md:6},r.a.createElement(b.a.Control,{type:"text",id:"username-input",onChange:function(e){return function(e,t){switch(t){case 0:m.username=e.target.value}}(e,0)}}))),c.map((function(e,t){return r.a.createElement(i.a,{key:t,className:"justify-content-center"},r.a.createElement(s.a,null,r.a.createElement("h5",null,e)))}))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4,className:"mt-5"},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return function(){var t=[];""===m.username&&(t.push("Must enter a name"),l(t)),m.username.length>20&&(t.push("Name too long"),l(t)),0===t.length&&(m.level=1,m.xp=0,m.gold=0,localStorage.setItem("charData",JSON.stringify(m)),e.selection(0))}()}},"Save"))),r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4,className:"mt-1"},r.a.createElement(E.a,{variant:"primary",block:!0,className:"my-1",onClick:function(){return e.selection(0)}},"Back"))))},y=a(53),h=(a(18),function(e){return r.a.createElement("div",{className:"box"},r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement("h5",null,e.player.username))),r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement("h5",null,"Level:\xa0",e.player.level))))}),k=function(e){return r.a.createElement("div",{className:"half-height-box"},r.a.createElement(i.a,null,r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,"Name:\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,e.enemy.name))),r.a.createElement(i.a,null,r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,"Level:\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,e.enemy.level))),r.a.createElement(i.a,null,r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,"Health:\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,e.enemy.eHp))),r.a.createElement(i.a,null,r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,"Attack:\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,e.enemy.attack))),r.a.createElement(i.a,null,r.a.createElement(s.a,{md:4},r.a.createElement("h5",null,"Defence:\xa0")),r.a.createElement(s.a,null,r.a.createElement("p",null,e.enemy.defence))))},g=function(e){var t=Object(n.useState)(e.history),a=Object(u.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){l(e.history)}),[e.history]),r.a.createElement("div",{id:"log-box",className:"half-height-box"},c.map((function(e,t){return r.a.createElement("div",{key:t},e)})))},j=a(54),N=function(){for(var e=[],t=0;t<200;t++)if(0===t)e.push(0);else if(1===t)e.push(0);else{var a=t+80,n=Math.floor(Math.pow(1.016*t*550,.008*a));e.push(Math.floor(n/9+e[t-1]))}return console.log(e),e}(),O=function(e){localStorage.setItem("charData",JSON.stringify(e))},S=function(){return JSON.parse(localStorage.getItem("charData"))},w=function(e,t){return Math.floor(Math.random()*(t-e))+e},M=function(){return console.log(localStorage.getItem("levelLock")),null!==localStorage.getItem("levelLock")},x=function(e){e?localStorage.setItem("levelLock","0"):localStorage.removeItem("levelLock")},H=function(e){return r.a.createElement(j.a,e,r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Levelled up!")),r.a.createElement(j.a.Body,null,r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(s.a,{md:4},r.a.createElement(E.a,{block:!0,variant:"success",onClick:function(){return e.onHide("0")}},"HP +5")),r.a.createElement(s.a,{md:4},r.a.createElement(E.a,{block:!0,variant:"danger",onClick:function(){return e.onHide("1")}},"Attack +1")),r.a.createElement(s.a,{md:4},r.a.createElement(E.a,{block:!0,variant:"primary",onClick:function(){return e.onHide("2")}},"Defence +1")))))},C={Rat:{locationId:0,name:"Rat",level:1,eHp:5,defence:2,attack:1,xpReward:function(){return w(Math.floor(5/4),Math.floor(6))},goldReward:function(){return w(1,10)}},Frog:{locationId:0,name:"Frog",level:2,eHp:10,defence:2,attack:3,xpReward:function(){return w(Math.floor(2.5),Math.floor(12))},goldReward:function(){return w(1,10)}},Snake:{locationId:0,name:"Snake",level:4,eHp:20,defence:3,attack:5,xpReward:function(){return w(Math.floor(5),Math.floor(24))},goldReward:function(){return w(1,10)}},Blob:{locationId:0,name:"Blob",level:5,eHp:50,defence:10,attack:6,xpReward:function(){return w(Math.floor(12.5),Math.floor(60))},goldReward:function(){return w(1,10)}},Wolf:{locationId:0,name:"Wolf",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}},ForestEnemy:{locationId:1,name:"ForestEnemy",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}},SwampEnemy:{locationId:2,name:"SwampEnemy",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}},DesertEnemy:{locationId:3,name:"DesertEnemy",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}},MountainsEnemy:{locationId:4,name:"MountainsEnemy",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}},TundraEnemy:{locationId:5,name:"TundraEnemy",level:7,eHp:80,defence:5,attack:9,xpReward:function(){return w(Math.floor(20),Math.floor(96))},goldReward:function(){return w(1,10)}}},L=function(e){var t=Object.values(R).filter((function(t){return t.id===e})).pop();return{id:t.id,name:t.name,getMobs:function(){return Object.values(C).filter((function(t){return t.locationId===e}))}}},R={Grassland:{id:0,name:"Grassland"},Forest:{id:1,name:"Forest"},Swamp:{id:2,name:"Swamp"},Desert:{id:3,name:"Desert"},Mountains:{id:4,name:"Mountains"},Tundra:{id:5,name:"Tundra"}},I=function(e,t,a,n){if(e){var r=w(0,L(n).getMobs().length),c=L(n).getMobs().map((function(e,t){if(t===r){var a={};return Object.keys(e).forEach((function(t){a[t]=e[t]})),a}return null}));console.log(c),t(c[r]),a(!1)}},D=function(e,t,a){if(e.xp+=a.xpReward(),n=e.level,e.xp>=N[n+1]&&(x(!0),1))return O(e),!0;var n;t(e)},F=a(31),T=function e(t,a){var n=this;Object(F.a)(this,e),this.addMessageToLog=function(e){var t=n.history;20===t.length&&t.pop(),t.unshift(e),n.setHistory(t)},this.history=t,this.setHistory=a},A=function(e){var t=Object(n.useState)(S()),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),E=m[0],f=m[1],d=Object(n.useState)(!0),v=Object(u.a)(d,2),b=v[0],p=v[1],j=Object(n.useState)({}),N=Object(u.a)(j,2),C=N[0],L=N[1],R=Object(n.useState)([]),F=Object(u.a)(R,2),A=F[0],B=F[1],J=Object(n.useState)(!1),U=Object(u.a)(J,2),G=U[0],P=U[1],W=Object(n.useState)(new T(A,B,E)),Y=Object(u.a)(W,1)[0],q=Object(n.useState)(!0),z=Object(u.a)(q,2),K=z[0],Q=z[1];Object(n.useEffect)((function(){I(b,L,p,e.currentLocation),M()&&Q(!1)}),[e.currentLocation,b]),Object(n.useEffect)((function(){if(K){var e=setInterval((function(){f((function(e){return e+1})),V()}),G?1500:500);return function(){clearInterval(e),G&&P(!1)}}}));var V=function(){if(function(e,t,a){return e.eHp<=0&&(t(!0),a.addMessageToLog("".concat(e.name," died!")),!0)}(C,p,Y))return P(!0),I(b,L,p,e.currentLocation),function(e,t,a){e.gold+=a.goldReward(),t(e)}(c,l,C),void(D(c,l,C)&&Q(!1));!function(e,t,a,n,r){var c=S(),l=w(c.Attack-5,c.Attack+5);l=l<1?1:l,e.eHp-=l,r.addMessageToLog("You hit for ".concat(l," damage!")),t(e)}(C,L,0,0,Y),O(c)};return r.a.createElement("div",{className:"game-root"},M?r.a.createElement(H,{backdrop:"static",keyboard:!1,show:!K,onHide:function(e){!function(e,t,a){switch(a){case"0":e.Hp+=5,e.level+=1,t(e);break;case"1":e.Attack+=1,e.level+=1,t(e);break;case"2":e.Defence+=1,e.level+=1,t(e);break;default:throw new Error("Tried to level up, but failed")}}(c,l,e),x(!1),Q(!0)}}):null,r.a.createElement(y.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(h,{player:c})),r.a.createElement(s.a,{md:6},r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(k,{enemy:C,dead:p})),r.a.createElement(s.a,null,r.a.createElement(g,{t:E,history:A})))))))},B=function(e){var t=Object(n.useState)(e.action),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(e.currentLocation),m=Object(u.a)(o,2),i=m[0],s=m[1],f=["Travel","Shop","Heal","Stats"],d=Object.keys(R);Object(n.useEffect)((function(){l(e.action),s(e.currentLocation)}),[e.action,e.currentLocation]);var v=function(t){e.setAction(t)};switch(c){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wide-box"},r.a.createElement("div",{id:"action-box"},d.map((function(t,a,n){return r.a.createElement(E.a,{key:a,variant:i===a?"secondary":"primary",className:"m-2",onClick:function(){return function(t){e.setCurrentLocation(t)}(a)}},t)}))),r.a.createElement("div",{id:"action-bar"},f.map((function(e,t,a){return r.a.createElement(E.a,{key:t,variant:c===t?"secondary":"primary",className:"m-2",onClick:function(){return v(t)}},e)})))));case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wide-box"},r.a.createElement("div",{id:"action-box"},"shop"),r.a.createElement("div",{id:"action-bar"},f.map((function(e,t,a){return r.a.createElement(E.a,{key:t,variant:c===t?"secondary":"primary",className:"m-2",onClick:function(){return v(t)}},e)})))));case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wide-box"},r.a.createElement("div",{id:"action-box"},"heal"),r.a.createElement("div",{id:"action-bar"},f.map((function(e,t,a){return r.a.createElement(E.a,{key:t,variant:c===t?"secondary":"primary",className:"m-2",onClick:function(){return v(t)}},e)})))));case 3:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wide-box"},r.a.createElement("div",{id:"action-box"},"stats"),r.a.createElement("div",{id:"action-bar"},f.map((function(e,t,a){return r.a.createElement(E.a,{key:t,variant:c===t?"secondary":"primary",className:"m-2",onClick:function(){return v(t)}},e)})))));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wide-box"},r.a.createElement("div",{id:"action-box"},"YOU SHOULDNT BE HERE REEEEEEEEEEEEEEEEE"),r.a.createElement("div",{id:"action-bar"},f.map((function(e,t,a){return r.a.createElement(E.a,{key:t,variant:c===t?"secondary":"primary",className:"m-2",onClick:function(){return v(t)}},e)})))))}},J=function(e){var t=Object(n.useState)(e.currentLocation),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),i=m[0],s=m[1];return Object(n.useEffect)((function(){l(c),e.setCurrentLocation(c)}),[e,c]),r.a.createElement("div",{className:"game-root"},r.a.createElement(y.a,null,r.a.createElement(B,{action:i,setAction:s,currentLocation:c,setCurrentLocation:l})))},U=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(u.a)(l,2),m=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{currentLocation:a,action:m}),r.a.createElement(J,{currentLocation:a,setCurrentLocation:c,action:m,setAction:i}))},G=(a(46),function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1];switch(a){default:case 0:return r.a.createElement(f,{selection:c});case 1:return r.a.createElement(U,null);case 2:return r.a.createElement(p,{selection:c});case 3:return r.a.createElement(d,{selection:c});case 4:return r.a.createElement(v,{selection:c})}}),P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null))},W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null))},Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null))};var q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(o.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:P}))),r.a.createElement(Y,null))};l.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a5505c94.chunk.js.map